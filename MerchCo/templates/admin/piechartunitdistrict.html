{% include "admin/header.html" %}
{% include "admin/sidebar.html" %}
<br><br>
<div id="container" style="width: 75%; max-width: 600px; margin: auto;">
    <canvas id="pie-chart"></canvas>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const ctx = document.getElementById('pie-chart').getContext('2d');

    const data = {
      labels: {{ labels|safe }},
      datasets: [{
        data: {{ data|safe }},
        backgroundColor: [
          '#FF5733', // Vibrant Red
          '#3498DB', // Bright Blue
          '#2ECC71', // Bright Green
          '#F1C40F', // Bright Yellow
          '#9B59B6', // Purple
          '#E67E22', // Orange
        ],
        hoverOffset: 10,
        borderWidth: 2, // Adding borders around the slices
        borderColor: '#fff', // White border to make the slices distinct
      }]
    };

    const config = {
      type: 'pie',
      data: data,
      options: {
        responsive: true,
        animations: {
          tension: {
            duration: 1000,
            easing: 'easeInOutQuad',
            from: 0.2,
            to: 1,
            loop: true
          }
        },
        plugins: {
          legend: {
            position: 'bottom',
            labels: {
              font: { size: 16, family: 'Arial', weight: 'bold' },
              color: '#333'
            }
          },
          tooltip: {
            enabled: true,
            backgroundColor: '#333', // Dark background for tooltips
            titleFont: { size: 16, weight: 'bold' },
            bodyFont: { size: 14 },
            borderColor: '#ccc',
            borderWidth: 1,
            padding: 10,
          }
        }
      }
    };

    new Chart(ctx, config);
  });
</script>
{% include "admin/footer.html" %}
